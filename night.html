<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="daystyle.css">
    <title>Welcome to the True Club</title>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header class="header">
        <div class="container">
            <h1>W e l c o m e t o t h e T r u e C l u b</h1>
        </div>
        <div id="audio">
            <a href="./night.html"><img src="./Resources/nightmode.png"></a>
            <p>–ù–µ —Ö–æ—Ç–∏—Ç–µ –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É –¥–ª—è –∏–≥—Ä—ã?</p>
            <audio controls loop autoplay src="Resources/65daysofstatic - Radio Protector.mp3"></audio>
        </div>
        <video autoplay muted loop src="./Resources/vecteezy_abstract-flowing-light-ombre-gradient-background_2221733.mp4"></video>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <main class="main">
        <div class="container">
            <!-- –†–∞–∑–¥–µ–ª 1 - –†—É–ª–µ—Ç–∫–∞ -->
            <section id="section1" class="section">
                <h2>–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –†—É–ª–µ—Ç–∫–∞</h2>
                <div class="content">
                    <div class="casino-container">
                        <!-- –°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã -->
                        <div class="wallet-info">
                            <h3>–í–∞—à –±–∞–ª–∞–Ω—Å: $<span id="walletAmount">1000</span></h3>
                        </div>

                        <!-- –°—Ç–∞–≤–∫–∏ -->
                        <div class="betting-section">
                            <div class="input-group">
                                <label for="numberBet">–°—Ç–∞–≤–∫–∞ –Ω–∞ —á–∏—Å–ª–æ ($):</label>
                                <input type="number" id="numberBet" min="0" value="0" step="10">
                            </div>
                            
                            <div class="input-group">
                                <label for="colorBet">–°—Ç–∞–≤–∫–∞ –Ω–∞ —Ü–≤–µ—Ç ($):</label>
                                <input type="number" id="colorBet" min="0" value="0" step="10">
                            </div>
                            
                            <div class="input-group">
                                <label for="parityBet">–°—Ç–∞–≤–∫–∞ –Ω–∞ —á–µ—Ç–Ω–æ—Å—Ç—å ($):</label>
                                <input type="number" id="parityBet" min="0" value="0" step="10">
                            </div>
                        </div>

                        <!-- –í—ã–±–æ—Ä —Å—Ç–∞–≤–æ–∫ -->
                        <div class="bet-selection">
                            <div class="input-group">
                                <label for="betNumber">–ß–∏—Å–ª–æ (0-36):</label>
                                <input type="number" id="betNumber" min="0" max="36" value="0">
                            </div>
                            
                            <div class="input-group">
                                <label for="betColor">–¶–≤–µ—Ç:</label>
                                <select id="betColor">
                                    <option value="–ö—Ä–∞—Å–Ω–æ–µ">–ö—Ä–∞—Å–Ω–æ–µ</option>
                                    <option value="–ß–µ—Ä–Ω–æ–µ">–ß–µ—Ä–Ω–æ–µ</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label for="betParity">–ß–µ—Ç–Ω–æ—Å—Ç—å:</label>
                                <select id="betParity">
                                    <option value="–ß–µ—Ç–Ω–æ–µ">–ß–µ—Ç–Ω–æ–µ</option>
                                    <option value="–ù–µ—á–µ—Ç–Ω–æ–µ">–ù–µ—á–µ—Ç–Ω–æ–µ</option>
                                </select>
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                        <div class="game-controls">
                            <button class="game-btn" onclick="placeBets()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫–∏</button>
                            <button class="game-btn spin-btn" onclick="spinRoulette()">–ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É!</button>
                            <button class="game-btn" onclick="resetGame()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                        </div>

                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
                        <div class="game-results">
                            <div id="rouletteResult" class="result-display">–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>
                            <div id="winAmount" class="win-display"></div>
                        </div>

                        <!-- –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä -->
                        <div class="game-history">
                            <h4>–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä:</h4>
                            <div id="gameHistory" class="history-list">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –ø—É—Å—Ç–∞</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        class RouletteGame {
            constructor() {
                this.wallet = 1000.0;
                this.currentBets = [0.0, 0.0, 0.0]; // [—á–∏—Å–ª–æ, —Ü–≤–µ—Ç, —á–µ—Ç–Ω–æ—Å—Ç—å]
                this.betChoices = [0, "–ö—Ä–∞—Å–Ω–æ–µ", "–ß–µ—Ç–Ω–æ–µ"];
                this.gameHistory = [];
                this.betsPlaced = false;
            }

            placeBets() {
                try {
                    const numberBet = parseFloat(document.getElementById("numberBet").value) || 0;
                    const colorBet = parseFloat(document.getElementById("colorBet").value) || 0;
                    const parityBet = parseFloat(document.getElementById("parityBet").value) || 0;
                    const betNumber = parseInt(document.getElementById("betNumber").value) || 0;
                    const betColor = document.getElementById("betColor").value;
                    const betParity = document.getElementById("betParity").value;

                    const totalBet = numberBet + colorBet + parityBet;

                    if (totalBet > this.wallet) {
                        return "–û—à–∏–±–∫–∞: –°—Ç–∞–≤–∫–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –±–∞–ª–∞–Ω—Å!";
                    }

                    if (totalBet <= 0) {
                        return "–û—à–∏–±–∫–∞: –°–¥–µ–ª–∞–π—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Å—Ç–∞–≤–∫—É!";
                    }

                    if (betNumber < 0 || betNumber > 36) {
                        return "–û—à–∏–±–∫–∞: –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 0 –¥–æ 36!";
                    }

                    this.currentBets = [numberBet, colorBet, parityBet];
                    this.betChoices = [betNumber, betColor, betParity];
                    this.wallet -= totalBet;
                    this.betsPlaced = true;

                    this.updateDisplay();
                    return `–°—Ç–∞–≤–∫–∏ –ø—Ä–∏–Ω—è—Ç—ã! –û–±—â–∞—è —Å—Ç–∞–≤–∫–∞: $${totalBet.toFixed(2)}`;
                    
                } catch (error) {
                    return `–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞: ${error.message}`;
                }
            }

            spinRoulette() {
                if (!this.betsPlaced) {
                    return "–°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫–∏!";
                }

                try {
                    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä—É–ª–µ—Ç–∫–∏
                    const resultNumber = Math.floor(Math.random() * 37); // 0-36
                    
                    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞
                    const redNumbers = [32, 19, 21, 25, 34, 27, 36, 30, 23, 5, 16, 1, 14, 9, 18, 7, 12, 3];
                    let resultColor;
                    if (resultNumber === 0) {
                        resultColor = "–ó–µ–ª–µ–Ω–æ–µ";
                    } else if (redNumbers.includes(resultNumber)) {
                        resultColor = "–ö—Ä–∞—Å–Ω–æ–µ";
                    } else {
                        resultColor = "–ß–µ—Ä–Ω–æ–µ";
                    }
                    
                    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ç–Ω–æ—Å—Ç–∏
                    const resultParity = resultNumber % 2 === 0 ? "–ß–µ—Ç–Ω–æ–µ" : "–ù–µ—á–µ—Ç–Ω–æ–µ";
                    
                    // –†–∞—Å—á–µ—Ç –≤—ã–∏–≥—Ä—ã—à–∞
                    let winnings = 0.0;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–≤–∫–∏ –Ω–∞ —á–∏—Å–ª–æ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 35:1)
                    if (resultNumber === this.betChoices[0]) {
                        winnings += this.currentBets[0] * 35;
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–≤–∫–∏ –Ω–∞ —Ü–≤–µ—Ç (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1:1)
                    if (resultColor === this.betChoices[1]) {
                        winnings += this.currentBets[1] * 2;
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–≤–∫–∏ –Ω–∞ —á–µ—Ç–Ω–æ—Å—Ç—å (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1:1)
                    if (resultParity === this.betChoices[2]) {
                        winnings += this.currentBets[2] * 2;
                    }
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
                    this.wallet += winnings;
                    
                    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
                    const gameResult = {
                        result: [resultNumber, resultColor, resultParity],
                        bets: [...this.currentBets],
                        choices: [...this.betChoices],
                        winnings: winnings,
                        newBalance: this.wallet
                    };
                    this.gameHistory.push(gameResult);
                    
                    this.betsPlaced = false;
                    this.updateDisplay();
                    
                    return {
                        success: true,
                        resultNumber: resultNumber,
                        resultColor: resultColor,
                        resultParity: resultParity,
                        winnings: winnings
                    };
                    
                } catch (error) {
                    return {
                        success: false,
                        error: `–û—à–∏–±–∫–∞ –≤ –∏–≥—Ä–µ: ${error.message}`
                    };
                }
            }

            resetGame() {
                this.wallet = 1000.0;
                this.currentBets = [0.0, 0.0, 0.0];
                this.betChoices = [0, "–ö—Ä–∞—Å–Ω–æ–µ", "–ß–µ—Ç–Ω–æ–µ"];
                this.gameHistory = [];
                this.betsPlaced = false;
                
                // –°–±—Ä–æ—Å –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
                document.getElementById("numberBet").value = 0;
                document.getElementById("colorBet").value = 0;
                document.getElementById("parityBet").value = 0;
                document.getElementById("betNumber").value = 0;
                
                this.updateDisplay();
                return "–ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞! –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: $1000";
            }

            updateDisplay() {
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
                document.getElementById('walletAmount').textContent = this.wallet.toFixed(2);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
                this.updateGameHistory();
            }

            updateGameHistory() {
                const historyElement = document.getElementById('gameHistory');
                
                if (!this.gameHistory || this.gameHistory.length === 0) {
                    historyElement.innerHTML = '<p>–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –ø—É—Å—Ç–∞</p>';
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –∏–≥—Ä
                const recentHistory = this.gameHistory.slice(-5).reverse();
                
                historyElement.innerHTML = '';
                recentHistory.forEach((game, index) => {
                    if (game && game.result) {
                        const gameElement = document.createElement('div');
                        gameElement.className = 'history-item';
                        gameElement.innerHTML = `
                            <strong>–ò–≥—Ä–∞ ${this.gameHistory.length - index}:</strong> 
                            –í—ã–ø–∞–ª–æ: ${game.result[0]} (${game.result[1]}, ${game.result[2]}) | 
                            –í—ã–∏–≥—Ä—ã—à: $${game.winnings.toFixed(2)} | 
                            –ë–∞–ª–∞–Ω—Å: $${game.newBalance.toFixed(2)}
                        `;
                        historyElement.appendChild(gameElement);
                    }
                });
            }
        }

        // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–≥—Ä—ã
        const rouletteGame = new RouletteGame();

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–π
        function placeBets() {
            const result = rouletteGame.placeBets();
            document.getElementById('rouletteResult').textContent = result;
            document.getElementById('winAmount').textContent = '';
        }

        function spinRoulette() {
            const result = rouletteGame.spinRoulette();
            
            if (typeof result === 'string') {
                // –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª–∞—Å—å –æ—à–∏–±–∫–∞
                document.getElementById('rouletteResult').textContent = result;
                document.getElementById('winAmount').textContent = '';
            } else if (result && result.success) {
                // –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                const resultText = `–í—ã–ø–∞–ª–æ: ${result.resultNumber} (${result.resultColor}, ${result.resultParity})`;
                document.getElementById('rouletteResult').textContent = resultText;
                document.getElementById('winAmount').textContent = result.winnings > 0 ? 
                    `üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ $${result.winnings.toFixed(2)}!` : 
                    'üòî –í —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–µ –ø–æ–≤–µ–∑–ª–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ!';
            } else {
                document.getElementById('rouletteResult').textContent = result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞';
            }
        }

        function resetGame() {
            const result = rouletteGame.resetGame();
            document.getElementById('rouletteResult').textContent = result;
            document.getElementById('winAmount').textContent = '';
        }

        // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                spinRoulette();
            }
            if (event.key === 'r' || event.key === 'R') {
                if (event.ctrlKey) {
                    resetGame();
                }
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            rouletteGame.updateDisplay();
        });
    </script>
</body>
</html>